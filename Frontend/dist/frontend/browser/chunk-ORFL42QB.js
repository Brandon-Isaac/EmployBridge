import{b as oe}from"./chunk-73VTNURN.js";import"./chunk-PMULIWSR.js";import{b as ce,c as se}from"./chunk-NBXZ4MB5.js";import{a as _e}from"./chunk-MYWPECBE.js";import{c as I,h as q}from"./chunk-R6ENPTDP.js";import{d as ue,h as ve,i as Ce}from"./chunk-5QOOYB6A.js";import"./chunk-JP5PTXCN.js";import{a as le}from"./chunk-XFYJB5AP.js";import{a as pe,b as de,d as fe,g as ge}from"./chunk-ZSOX3E6G.js";import{$b as k,$e as re,Bc as O,Cc as B,Ec as N,Fa as m,Fc as w,Fe as Y,Hd as V,Ic as A,Ie as U,Ja as f,Jd as R,Je as $,Kc as D,Me as H,Ne as W,Oa as P,Oe as K,Sa as c,Se as Q,Ue as X,Ve as Z,We as ee,Xd as z,Xe as te,Yd as L,Za as l,Ze as ne,_e as ie,a as y,ac as E,af as ae,b as J,ff as me,gb as i,ha as v,hb as n,hc as G,ia as C,ib as p,jf as be,mb as x,ob as u,pb as s,sc as F,uc as b,xb as r,xc as j,yb as h,yc as T,zb as _}from"./chunk-3RIX3MIY.js";function he(t,a){t&1&&(i(0,"mat-error"),r(1," Job title is required "),n())}function Se(t,a){t&1&&(i(0,"mat-error"),r(1," Location is required "),n())}function Me(t,a){t&1&&(i(0,"mat-error"),r(1," Employment type is required "),n())}function ye(t,a){t&1&&(i(0,"mat-error"),r(1," Salary must be greater than 0 "),n())}function Je(t,a){if(t&1){let e=x();i(0,"mat-chip",27),u("removed",function(){let d=v(e).$implicit,g=s(2);return C(g.removeSkill(d))}),r(1),i(2,"button",28),p(3,"fa-icon",29),n()()}if(t&2){let e=a.$implicit,o=s(2);m(),_(" ",e.name," "),m(2),l("icon",o.faTimes)}}function Pe(t,a){if(t&1&&(i(0,"div",30)(1,"p"),r(2),n()()),t&2){let e=s(2);m(2),h(e.generationMessage)}}function ke(t,a){if(t&1&&(i(0,"div",22)(1,"h3"),r(2,"Generated Job Description"),n(),i(3,"div",23)(4,"h4"),r(5,"Description"),n(),i(6,"p"),r(7),n()(),i(8,"div",24)(9,"h4"),r(10,"Required Skills"),n(),i(11,"mat-chip-set"),c(12,Je,4,2,"mat-chip",25),n()(),c(13,Pe,3,1,"div",26),n()),t&2){let e=s();m(7),h(e.generatedJob.description),m(5),l("ngForOf",e.generatedSkills),m(),l("ngIf",e.generationMessage)}}function Ee(t,a){if(t&1&&p(0,"fa-icon",31),t&2){let e=s();l("icon",e.faSpinner)}}function Ge(t,a){if(t&1&&p(0,"fa-icon",29),t&2){let e=s();l("icon",e.faMagic)}}function Ie(t,a){if(t&1&&p(0,"fa-icon",31),t&2){let e=s(2);l("icon",e.faSpinner)}}function Fe(t,a){if(t&1&&p(0,"fa-icon",29),t&2){let e=s(2);l("icon",e.faCheck)}}function je(t,a){if(t&1){let e=x();i(0,"button",32),u("click",function(){v(e);let d=s();return C(d.onPostJob())}),c(1,Ie,1,1,"fa-icon",19)(2,Fe,1,1,"fa-icon",20),r(3),n()}if(t&2){let e=s();l("disabled",e.isPosting),m(),l("ngIf",e.isPosting),m(),l("ngIf",!e.isPosting),m(),_(" ",e.isPosting?"Posting...":"Post Job"," ")}}var xe=class t{constructor(a,e,o,d,g){this.fb=a;this.jobService=e;this.authService=o;this.router=d;this.snackBar=g;this.generationForm=this.fb.group({title:["",b.required],location:["",b.required],employmentType:["",b.required],salary:[null,[b.min(0)]]})}generationForm;isGenerating=!1;isPosting=!1;generatedJob=null;generatedSkills=[];generationMessage=null;faSpinner=$;faMagic=H;faCheck=W;faTimes=U;faMapMarkerAlt=Y;faBriefcase=K;faDollarSign=Q;onGenerate(){if(this.generationForm.invalid)return;this.isGenerating=!0,this.generatedJob=null,this.generatedSkills=[],this.generationMessage=null;let a=this.generationForm.value;this.jobService.generateJobWithAI(a).subscribe({next:e=>{this.generatedJob=e.job,this.generatedSkills=e.generatedSkills,this.generationMessage=e.message,this.isGenerating=!1},error:e=>{console.error("Error generating job:",e),this.snackBar.open(e.error?.message||"Failed to generate job description","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"bottom"}),this.isGenerating=!1}})}onPostJob(){if(!this.generatedJob)return;this.isPosting=!0;let a=this.authService.getCurrentUser();if(!a){this.snackBar.open("You must be logged in to post a job","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"bottom"}),this.router.navigate(["/login"]);return}let e=J(y({},this.generatedJob),{employer:{id:a.id,name:a.name,email:a.email}});this.jobService.createJob(e).subscribe({next:()=>{this.snackBar.open("Job posted successfully","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"}),this.router.navigate(["/employer/jobs-posted"])},error:o=>{console.error("Error posting job:",o),this.snackBar.open(o.error?.message||"Failed to post job","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"bottom"}),this.isPosting=!1}})}removeSkill(a){let e=this.generatedSkills.findIndex(o=>o.name===a);e>=0&&this.generatedSkills.splice(e,1)}goBack(){this.router.navigate(["/employer/jobs-posted"])}static \u0275fac=function(e){return new(e||t)(f(A),f(_e),f(q),f(I),f(be))};static \u0275cmp=P({type:t,selectors:[["app-employer-job-generation"]],decls:51,vars:14,consts:[[1,"job-generation-container"],[1,"job-generation-card"],[1,"job-generation-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","title","placeholder","e.g., Senior Software Engineer"],[4,"ngIf"],["matInput","","formControlName","location","placeholder","e.g., New York, NY"],[1,"field-icon",3,"icon"],["formControlName","employmentType"],["value","Full-time"],["value","Part-time"],["value","Contract"],["value","Temporary"],["value","Internship"],["matInput","","type","number","formControlName","salary","placeholder","e.g., 75000"],["class","generated-content",4,"ngIf"],[1,"form-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["animation","spin",3,"icon",4,"ngIf"],[3,"icon",4,"ngIf"],["mat-raised-button","","color","accent","type","button",3,"disabled","click",4,"ngIf"],[1,"generated-content"],[1,"description-section"],[1,"skills-section"],[3,"removed",4,"ngFor","ngForOf"],["class","message-section",4,"ngIf"],[3,"removed"],["matChipRemove",""],[3,"icon"],[1,"message-section"],["animation","spin",3,"icon"],["mat-raised-button","","color","accent","type","button",3,"click","disabled"]],template:function(e,o){if(e&1&&(i(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),r(4,"AI Job Description Generator"),n(),i(5,"mat-card-subtitle"),r(6," Let AI help you create a comprehensive job description "),n()(),i(7,"mat-card-content")(8,"form",2),u("ngSubmit",function(){return o.onGenerate()}),i(9,"mat-form-field",3)(10,"mat-label"),r(11,"Job Title"),n(),p(12,"input",4),c(13,he,2,0,"mat-error",5),n(),i(14,"mat-form-field",3)(15,"mat-label"),r(16,"Location"),n(),p(17,"input",6)(18,"fa-icon",7),c(19,Se,2,0,"mat-error",5),n(),i(20,"mat-form-field",3)(21,"mat-label"),r(22,"Employment Type"),n(),i(23,"mat-select",8)(24,"mat-option",9),r(25,"Full-time"),n(),i(26,"mat-option",10),r(27,"Part-time"),n(),i(28,"mat-option",11),r(29,"Contract"),n(),i(30,"mat-option",12),r(31,"Temporary"),n(),i(32,"mat-option",13),r(33,"Internship"),n()(),p(34,"fa-icon",7),c(35,Me,2,0,"mat-error",5),n(),i(36,"mat-form-field",3)(37,"mat-label"),r(38,"Salary (Annual)"),n(),p(39,"input",14)(40,"fa-icon",7),c(41,ye,2,0,"mat-error",5),n(),c(42,ke,14,3,"div",15),i(43,"div",16)(44,"button",17),u("click",function(){return o.goBack()}),r(45,"Cancel"),n(),i(46,"button",18),c(47,Ee,1,1,"fa-icon",19)(48,Ge,1,1,"fa-icon",20),r(49),n(),c(50,je,4,4,"button",21),n()()()()()),e&2){let d,g,S,M;m(8),l("formGroup",o.generationForm),m(5),l("ngIf",(d=o.generationForm.get("title"))==null?null:d.hasError("required")),m(5),l("icon",o.faMapMarkerAlt),m(),l("ngIf",(g=o.generationForm.get("location"))==null?null:g.hasError("required")),m(15),l("icon",o.faBriefcase),m(),l("ngIf",(S=o.generationForm.get("employmentType"))==null?null:S.hasError("required")),m(5),l("icon",o.faDollarSign),m(),l("ngIf",(M=o.generationForm.get("salary"))==null?null:M.hasError("min")),m(),l("ngIf",o.generatedJob),m(4),l("disabled",o.generationForm.invalid||o.isGenerating),m(),l("ngIf",o.isGenerating),m(),l("ngIf",!o.isGenerating),m(),_(" ",o.isGenerating?"Generating...":"Generate Description"," "),m(),l("ngIf",o.generatedJob)}},dependencies:[G,k,E,ie,X,ee,ne,te,Z,R,V,le,me,re,ae,se,ce,Ce,ve,ue,ge,de,pe,fe,oe,D,O,F,B,j,T,N,w,L,z],styles:[".job-generation-container[_ngcontent-%COMP%]{padding:20px}.job-generation-card[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.job-generation-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:20px 0}.full-width[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:24px}.generated-content[_ngcontent-%COMP%]{margin-top:24px;padding:20px;background:#f5f5f5;border-radius:8px}.description-section[_ngcontent-%COMP%], .skills-section[_ngcontent-%COMP%]{margin-bottom:20px}.description-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .skills-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:8px;color:#666}.message-section[_ngcontent-%COMP%]{margin-top:16px;padding:12px;background:#e3f2fd;border-radius:4px;color:#1976d2}mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}.mat-mdc-chip-set[_ngcontent-%COMP%]{margin-top:8px}.field-icon[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);color:#666}button[_ngcontent-%COMP%]   matChipRemove[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]})};export{xe as JobGenerationComponent};
